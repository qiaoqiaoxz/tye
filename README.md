# tye
防刷-本地消耗法
# 简介
为了防止类似企业发送短线验证码接口被恶意刷，达到消耗短信费用或爆破破解类似情况，做了本地延迟时间。这样做相比传统填写图片验证码后才可发送的方法，节省了步骤（没有哪位注册账号填写过多的内容）；相比限制ip、手机号码等限制频率，除去了可代理IP、更换手机号的烦恼。
# 原理
消耗客户端本地处理器计算出正确的哈希值，已达到缓冲一段时间再调用业务接口。加大了攻击者CPU的成本。
# 使用方法
包 net.ssssssss 下4个类  
Tye 主要业务逻辑类，是开发者实际使用的类  
Md5 将一个LONG类型的变量转成md5值，Tye类中有使用  
Test 测试客户端本地计算出哈希值所消耗的时间  
Main 程序的入口，一般再测试本程序才使用  
Tye类详解  
    创建时需要传递一个LONG类型参数，表示客户端本地最大计算次数  
    方法 setCount(long count) 设置客户端本地最大计算次数  
    方法 get() 获取哈希值以及哈希值种子的范围  
        返回一个长度为3的String[]类型   
            String[0] 哈希值（客户端本地要计算出哈希值的种子）  
            String[1]-String[2]哈希值种子的范围  
demo使用步骤  
    1、实例化Tye类并获取哈希值以及哈希值种子范围  
    2、将哈希值以及哈希值种子范围发送到客户端  
    3、客户端根据哈希值以及哈希值种子范围计算出哈希值种子  
    4、客户端将哈希值种子附加到业务接口（短息发送接口）返回服务端  
    5、服务段验证哈希值种子正确后继续正常的业务（发送短信验证码）  
# 建议
因为手机的性能、当前运行的任务不同，计算哈希的速度不同。为防止超长时间无法计算出哈希，请配合其它方法使用更佳。如超过预定时间用图片验证方式验证；根据手机电脑CPU型号适当调整最大计算次数等。

